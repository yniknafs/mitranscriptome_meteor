
<template name="investigate">
  <div class="ui menu">
    <div class="item">
      Investigate
    </div>
    <div class="item">
      <div class="ui icon input">
    		<input class="form-control typeahead"
          name="search" type="text"
          placeholder="Search gene (e.g. MYC)"
    			autocomplete="on" spellcheck="off"
          data-highlight="true" data-limit=80
    			data-source="search" data-selected="selected"
          data-template="gene_search_result"/>
        <i class="search icon"></i>
      </div>
  	</div>
    <div class="item">
      <div class="ui toggle checkbox">
        <input type="checkbox" name="public">
        <label>Isoform View</label>
      </div>
    </div>
  </div>

  {{> expression_plot}}

</template>

<template name="expression_plot">

  <div class="ui secondary menu">

    <div id="dropdown-isoform" class="ui selection {{#unless active}}disabled{{/unless}} dropdown item">
      <span class="text">Choose Isoform</span>
      <input name="gender" type="hidden" value="default">
      <i class="dropdown icon"></i>
      <div class="menu">
        <div class="header">Gene</div>
        {{#if active}}
          <div class="item" data-value="gene">{{ gene.gene_id }}</div>
        {{/if}}
        <div class="divider"></div>
        <div class="header">Isoforms</div>
        {{#each isoforms}}
          <div class="item" data-value="{{transcript_id}}">{{ transcript_id }}</div>
        {{/each}}
      </div>
    </div>

    <div class="item">
      <div id="dropdown-groupby" class="ui multiple selection dropdown">
        <input type="hidden" name="groupby">
        <i class="dropdown icon"></i>
        <div class="default text">Grouping Order</div>
        <div class="menu">
          {{#each properties}}
            <div class="item" data-value="{{prop_id}}">{{name}}</div>
          {{/each}}
        </div>
      </div>
    </div>
    <div class="item">
      <div class="ui buttons">
        <button class='ui button {{#if scaleIs "linear"}}active{{/if}}'
                value="linear">Linear</button>
        <div class="or"></div>
        <button class='ui button {{#if scaleIs "log"}}active{{/if}}'
                value="log">Log</button>
      </div>
    </div>
  </div>

  <div id="plotly_expression"></div>

</template>

<template name="gene_search_result">
  {{#with obj}}
    <em>Gene ID:</em> {{ gene_id }}<br/>
    <em>Alias:</em> {{ alias }}
  {{/with}}
</template>
